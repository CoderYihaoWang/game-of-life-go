(this["webpackJsonpgame-of-life-go"]=this["webpackJsonpgame-of-life-go"]||[]).push([[0],{96:function(e,t,i){"use strict";i.r(t);var n,r,a=i(0),s=i.n(a),o=i(26),c=i.n(o),l=i(10),h=i(147),d=i(139),u=i(144),y=i(143),b=i(140),p=i(12),m=i(65),j=i(40),f=i(41);function v(e){return e===n.Player1||e===n.Player1Dying}function g(e){return e===n.Player2||e===n.Player2Dying}function x(e,t,i){var r=t+i;return v(e)?r<2||r>3?n.Player1Dying:n.Player1:g(e)?r<2||r>3?n.Player2Dying:n.Player2:3!==r?n.None:t>i?n.Player1Reviving:n.Player2Reviving}function _(e){return e===r.Player1?n.Player1:e===r.Player2?n.Player2:n.None}!function(e){e[e.None=0]="None",e[e.Player1=1]="Player1",e[e.Player1Dying=2]="Player1Dying",e[e.Player1Reviving=3]="Player1Reviving",e[e.Player2=4]="Player2",e[e.Player2Dying=5]="Player2Dying",e[e.Player2Reviving=6]="Player2Reviving"}(n||(n={})),function(e){e[e.None=0]="None",e[e.Player1=1]="Player1",e[e.Player2=2]="Player2",e[e.Draw=3]="Draw"}(r||(r={}));var O=function(){function e(t){Object(j.a)(this,e),this._options=void 0,this._board=void 0,this._player=void 0,this._move=void 0,this._winner=void 0,this._history=void 0,this._undos=void 0,this._hasUndoApplied=void 0,this._tempR=void 0,this._tempC=void 0,this._tempPlayer=void 0,this._options=t,this._player=r.Player1,this._move=1,this._winner=r.None,this._board=this.newBoard(),this._history=[this.cloneBoard(this._board)],this._undos=new Map,this._undos.set(r.Player1,t.undos),this._undos.set(r.Player2,t.undos),this._hasUndoApplied=!1;var i=[void 0,void 0,r.None];this._tempR=i[0],this._tempC=i[1],this._tempPlayer=i[2]}return Object(f.a)(e,[{key:"board",get:function(){return this._board},set:function(e){this._board=e}},{key:"options",get:function(){return Object(m.a)({},this._options)}},{key:"history",get:function(){return Object(p.a)(this._history)}},{key:"move",get:function(){return this._move}},{key:"undos",get:function(){return this._undos.get(this._player)}},{key:"player",get:function(){return this._player}},{key:"winner",get:function(){return this._winner}},{key:"canPut",value:function(e,t){return!v(this._board[e][t])&&!g(this._board[e][t])}},{key:"put",value:function(e,t,i){if(!this.canPut(e,t))return this;void 0!==this._tempR&&this.unput();var n,a=[e,t,(n=this._board[e][t],v(n)?r.Player1:g(n)?r.Player2:r.None)];return this._tempR=a[0],this._tempC=a[1],this._tempPlayer=a[2],this._board[e][t]=_(i),this.isSeeding()||this.compute(),Object.create(this)}},{key:"unput",value:function(){if(void 0===this._tempR||void 0===this._tempC)return this;var e=[this._tempR,this._tempC,this._tempPlayer],t=e[0],i=e[1],n=e[2],a=[void 0,void 0,r.None];return this._tempR=a[0],this._tempC=a[1],this._tempPlayer=a[2],this._board[t][i]=_(n),this.isSeeding()||this.compute(),Object.create(this)}},{key:"commit",value:function(e,t){if(this.canPut(e,t)&&this.put(e,t,this._player),this._tempR!==e||this._tempC!==t)return this;this._hasUndoApplied=!1,this._player=this._player===r.Player1?r.Player2:r.Player1;var i=[void 0,void 0,r.None];return this._tempR=i[0],this._tempC=i[1],this._tempPlayer=i[2],this.isSeeding()||(this.moveNext(),this.compute(),this.setWinner()),this._move++,this._history.push(this.cloneBoard(this._board)),Object.create(this)}},{key:"canUndo",value:function(){return!this._hasUndoApplied&&this._winner===r.None&&this._move>=3&&(void 0===this.undos||this.undos>0)}},{key:"undo",value:function(){if(!this.canUndo())return this;void 0!==this.undos&&this._undos.set(this._player,this.undos-1),this._hasUndoApplied=!0,this._move-=2,this._history.pop(),this._history.pop();var e=this._history.pop();return this._board=this.cloneBoard(e),this._history.push(e),this.isSeeding()||this.setWinner(),Object.create(this)}},{key:"setWinner",value:function(){for(var e=!1,t=!1,i=0;i<this._options.size;i++)for(var n=0;n<this._options.size;n++)v(this._board[i][n])?e=!0:g(this._board[i][n])&&(t=!0);switch(!0){case!e&&!t:return void(this._winner=r.Draw);case!t:return void(this._winner=r.Player1);case!e:return void(this._winner=r.Player2);default:this._winner=r.None}}},{key:"compute",value:function(){for(var e=this.newBoard(),t=0;t<this._options.size;t++)for(var i=0;i<this._options.size;i++){var n=this.neighbors(t,i,v),r=this.neighbors(t,i,g);e[t][i]=x(this._board[t][i],n,r)}this._board=e}},{key:"moveNext",value:function(){for(var e,t=this.newBoard(),i=0;i<this._options.size;i++)for(var r=0;r<this._options.size;r++){var a=this.neighbors(i,r,v),s=this.neighbors(i,r,g),o=x(this._board[i][r],a,s);t[i][r]=(e=o)===n.Player1Dying||e===n.Player2Dying?n.None:e===n.Player1Reviving?n.Player1:e===n.Player2Reviving?n.Player2:e}this._board=t}},{key:"neighbors",value:function(e,t,i){var n=0;return i(this.cellAt(e-1,t))&&n++,i(this.cellAt(e+1,t))&&n++,i(this.cellAt(e-1,t-1))&&n++,i(this.cellAt(e+1,t-1))&&n++,i(this.cellAt(e,t-1))&&n++,i(this.cellAt(e-1,t+1))&&n++,i(this.cellAt(e+1,t+1))&&n++,i(this.cellAt(e,t+1))&&n++,n}},{key:"cellAt",value:function(e,t){return this._options.wrapAtBoundary&&(e=(e+this._board.length)%this._board.length,t=(t+this._board[0].length)%this._board[0].length),e<0||e>=this._board.length||t<0||t>=this._board.length?n.None:this._board[e][t]}},{key:"isSeeding",value:function(){return 2*this._options.seedingRounds>=this._move}},{key:"newBoard",value:function(){for(var e=new Array(this._options.size),t=0;t<this._options.size;t++)e[t]=new Array(this._options.size).fill(n.None);return e}},{key:"cloneBoard",value:function(e){for(var t=new Array(this._options.size),i=0;i<this._options.size;i++)t[i]=Object(p.a)(e[i]);return t}}]),e}(),P=i(2);function w(e,t){if(t){switch(e){case n.Player1:return"player1.light";case n.Player1Dying:return"player1.dark";case n.Player2:return"player2.light";case n.Player2Dying:return"player2.dark"}return"white"}switch(e){case n.Player1:case n.Player1Dying:return"player1.light";case n.Player2:case n.Player2Dying:return"player2.light"}return"white"}function k(e,t){if(t){switch(e){case n.Player1:case n.Player1Reviving:return"player1.main";case n.Player2:case n.Player2Reviving:return"player2.main"}return"primary.main"}switch(e){case n.Player1:case n.Player1Dying:return"player1.main";case n.Player2:case n.Player2Dying:return"player2.main"}return"primary.main"}function S(e){var t=e.game,i=e.setGame,n="".concat(100/t.options.size,"%"),a=function(){return t.winner!==r.None},s=function(e,n){return function(){a()||i(t.commit(e,n))}},o=function(e,n){return function(){a()||i(t.put(e,n,t.player))}},c=function(){a()||i(t.unput())};return Object(P.jsx)(y.a,{children:t.board.map((function(e,i){return Object(P.jsx)(y.a,{sx:{display:"flex"},children:e.map((function(e,r){return Object(P.jsx)(y.a,{sx:{display:"block",width:n,paddingBottom:n,backgroundColor:w(e,t.options.showHints),borderRadius:"50%",boxShadow:"5px 5px",color:k(e,t.options.showHints)},onClick:s(i,r),onMouseOver:o(i,r),onMouseOut:c})}))})}))})}var z=i(135),R=i(145),A=i(137),C=i(134),N=i(146),D=i(138);function B(e){var t=e.isOpen,i=e.onClose,n=e.options,r=e.setOptions,s=Object(a.useState)(n.size),o=Object(l.a)(s,2),c=o[0],h=o[1],p=Object(a.useState)(n.seedingRounds),m=Object(l.a)(p,2),j=m[0],f=m[1],v=Object(a.useState)(n.undos),g=Object(l.a)(v,2),x=g[0],_=g[1],O=Object(a.useState)(n.wrapAtBoundary),w=Object(l.a)(O,2),k=w[0],S=w[1],B=Object(a.useState)(n.showHints),U=Object(l.a)(B,2),W=U[0],L=U[1];return Object(P.jsx)(z.a,{open:t,onClose:i,fullWidth:!0,maxWidth:"xs",PaperProps:{elevation:12,square:!0},children:Object(P.jsx)(y.a,{sx:{padding:"2em"},children:Object(P.jsxs)(d.a,{container:!0,spacing:2,children:[Object(P.jsx)(d.a,{item:!0,xs:12,children:Object(P.jsx)(u.a,{fontSize:"2em",textAlign:"center",sx:{color:"primary.main"},children:"Set New Game"})}),Object(P.jsx)(d.a,{item:!0,xs:12,margin:"1em 0",children:Object(P.jsx)(R.a,{})}),Object(P.jsx)(d.a,{item:!0,xs:9,children:Object(P.jsx)(A.a,{value:c,onChange:function(e,t){return h(t)},min:3,max:20,marks:!0,valueLabelDisplay:"on",size:"small"})}),Object(P.jsx)(d.a,{item:!0,xs:3,children:Object(P.jsx)(C.a,{title:"Size of the game board",children:Object(P.jsx)(u.a,{fontSize:"0.8em",children:"Board Size"})})}),Object(P.jsx)(d.a,{item:!0,xs:9,children:Object(P.jsx)(A.a,{value:j,onChange:function(e,t){return f(t)},min:1,max:4,marks:!0,valueLabelDisplay:"on",size:"small"})}),Object(P.jsx)(d.a,{item:!0,xs:3,children:Object(P.jsx)(C.a,{title:"Number of seeding rounds. The Game of Life calculation rules apply only after the seeding rounds.",children:Object(P.jsx)(u.a,{fontSize:"0.8em",children:"Seeding Rounds"})})}),Object(P.jsx)(d.a,{item:!0,xs:9,children:Object(P.jsx)(A.a,{value:null!==x&&void 0!==x?x:6,onChange:function(e,t){return _(6===t?void 0:t)},min:0,max:6,valueLabelFormat:function(e){return 6===e?"Unlimited":e},marks:!0,valueLabelDisplay:"on",size:"small"})}),Object(P.jsx)(d.a,{item:!0,xs:3,children:Object(P.jsx)(C.a,{title:"Number of undo chances for each player",children:Object(P.jsx)(u.a,{fontSize:"0.8em",children:"Undo Chances"})})}),Object(P.jsx)(d.a,{item:!0,xs:6,children:Object(P.jsx)(C.a,{title:"When checked, the left boundary of the board is treated as being connected with the right boundary, same for the upper and lower boundaries",children:Object(P.jsx)(N.a,{checked:k,label:"Wrap at Boundary",labelPlacement:"end",onChange:function(e,t){return S(t)},control:Object(P.jsx)(D.a,{})})})}),Object(P.jsx)(d.a,{item:!0,xs:6,children:Object(P.jsx)(C.a,{title:"When checked, the players can see the status of cells in the next round before actually making the move",children:Object(P.jsx)(N.a,{checked:W,label:"Show Hints",labelPlacement:"end",onChange:function(e,t){return L(t)},control:Object(P.jsx)(D.a,{})})})}),Object(P.jsx)(d.a,{item:!0,xs:12,margin:"1em 0",children:Object(P.jsx)(R.a,{})}),Object(P.jsx)(d.a,{item:!0,padding:"2em 0 0 0",xs:12,children:Object(P.jsx)(b.a,{onClick:function(){r({size:c,seedingRounds:j,undos:x,wrapAtBoundary:k,showHints:W}),i()},variant:"contained",style:{borderRadius:0,boxShadow:"0 0",color:"white"},size:"large",children:"Start"})})]})})})}function U(){var e=Object(a.useState)({size:9,seedingRounds:2,undos:3,wrapAtBoundary:!1,showHints:!1}),t=Object(l.a)(e,2),i=t[0],n=t[1],s=Object(a.useState)(!1),o=Object(l.a)(s,2),c=o[0],p=o[1],m=Object(a.useState)(!1),j=Object(l.a)(m,2),f=j[0],v=j[1],g=Object(a.useState)(new O(i)),x=Object(l.a)(g,2),_=x[0],w=x[1];Object(a.useEffect)((function(){w(new O(i))}),[i]);return Object(P.jsxs)(h.a,{maxWidth:"xs",children:[Object(P.jsxs)(d.a,{container:!0,children:[Object(P.jsxs)(d.a,{container:!0,item:!0,xs:12,sx:{backgroundColor:"primary.main",margin:"3em 0 2em 0"},children:[Object(P.jsx)(d.a,{item:!0,xs:6,children:Object(P.jsx)(u.a,{textAlign:"left",fontSize:"3em",color:"white",paddingLeft:"1em",children:Object(P.jsx)(y.a,{sx:{display:"inline-block",width:"0.8em",height:"0.8em",borderRadius:"50%",backgroundColor:"white",boxShadow:"5px 5px",color:_.winner!==r.None?_.winner===r.Player1?"player1.main":_.winner===r.Player2?"player2.main":"primary.main":_.player===r.Player1?"player1.main":"player2.main",verticalAlign:"baseline"}})})}),Object(P.jsx)(d.a,{item:!0,xs:6,children:Object(P.jsx)(u.a,{textAlign:"right",fontSize:"3em",color:"white",paddingRight:"1em",children:_.winner===r.Draw?"Draw":_.winner!==r.None?"Wins!":"#".concat(_.move)})})]}),Object(P.jsx)(d.a,{item:!0,xs:12,children:Object(P.jsx)(S,{game:_,setGame:w})}),Object(P.jsx)(d.a,{item:!0,xs:4,textAlign:"center",padding:"2em 0",children:Object(P.jsx)(b.a,{disabled:!_.canUndo()||f,onClick:function(){return w(_.undo())},variant:"contained",style:{borderRadius:0,boxShadow:"0 0",color:"white"},size:"large",children:"Undo".concat(_.undos>0?"(".concat(_.undos,")"):"")})}),Object(P.jsx)(d.a,{item:!0,xs:4,textAlign:"center",padding:"2em 0",children:Object(P.jsx)(b.a,{disabled:f,onClick:function(){return p(!0)},variant:"contained",style:{borderRadius:0,boxShadow:"0 0",color:"white"},size:"large",children:"New Game"})}),Object(P.jsx)(d.a,{item:!0,xs:4,textAlign:"center",padding:"2em 0",children:Object(P.jsx)(b.a,{disabled:_.winner===r.None||f,onClick:function(){v(!0);for(var e=_.history,t=0;t<e.length;t++)setTimeout(function(t){return function(){_.board=e[t],w(Object.create(_))}}(t),500*t);setTimeout((function(){v(!1)}),500*t)},variant:"contained",style:{borderRadius:0,boxShadow:"0 0",color:"white"},size:"large",children:"Playback"})})]}),Object(P.jsx)(B,{isOpen:c,onClose:function(){return p(!1)},options:i,setOptions:n})]})}var W=i(142),L=(i(92),i(93),i(94),i(95),i(69)),H=i(141),G=Object(L.a)({palette:{player1:{main:"#ffbff9",light:"#ffe0fc",dark:"#f7edf6"},player2:{main:"#a3ffd7",light:"#d1ffeb",dark:"#e4f5ed"},primary:{main:"#8ff2ff",light:"#bdf7ff",dark:"#a1e4ed"},info:{main:"#bdbdbd",light:"#f7f7f7",dark:"#cfcfcf"}},typography:{button:{textTransform:"none"}},components:{MuiFormControlLabel:{styleOverrides:{label:{fontSize:"0.8em"}}}}});c.a.render(Object(P.jsxs)(s.a.StrictMode,{children:[Object(P.jsx)(W.a,{}),Object(P.jsx)(H.a,{theme:G,children:Object(P.jsx)(U,{})})]}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.aa62aa75.chunk.js.map